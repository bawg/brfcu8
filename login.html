<!DOCTYPE html>
<html>
<head><title>Login</title></head>
<body>
  <h2>Login Required</h2>
  <button onclick="signIn()">Login with Google</button>

  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com"
    };
    firebase.initializeApp(firebaseConfig);

    async function signIn() {
      const provider = new firebase.auth.GoogleAuthProvider();
      const result = await firebase.auth().signInWithPopup(provider);
      const idToken = await result.user.getIdToken();

      await fetch("https://us-central1-YOUR_PROJECT.cloudfunctions.net/auth/sessionLogin", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ idToken }),
        credentials: "include"
      });

      window.location.href = "/index.html";
    }
  </script>
</body>
</html>
